
<main class="container">

  <section class="header text-center col-lg-4 mx-auto my-4">
    <h1>All Articles</h1>
    <p class="text-muted"><%= @article.length %> Articles Found</p>
  </section>

  <%= render 'partials/searchbar' %>

  <% if params[:status] == 'created' %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      Article Published
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>

  <% if params[:status] == 'updated' %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      Article Updated
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>

  <% if params[:status] == 'deleted' %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      Article Deleted
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>

  <section class="articles container">
    <div class="row row-cols-3">
      <% @article.each do | a | %>
        <div>
          <div class="card mb-3">
            <div class="card-img-top card-img"></div>
            <div class="card-body">
              <h5 class="card-title"><%= a.title %></h5>
              <h6 class="card-subtitle mb-2 text-muted"><%= a.author %></h6>
              <p><%= truncate(a.body, length: 100) %></p>
              <%= link_to 'Read Article', read_path(id: a.id), class: 'btn btn-info text-white' %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </section>
</main>

